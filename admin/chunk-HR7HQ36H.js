import{a as W}from"./chunk-6B3WCMET.js";import{a as $e}from"./chunk-3YJIL2AV.js";import{a as qe}from"./chunk-TXZRVSHE.js";import{a as He}from"./chunk-BLDLELXJ.js";import{a as fe}from"./chunk-DMJCAZU4.js";import{a as je,b as ue,c as N,d as Ge}from"./chunk-7CT4NC77.js";import{g as Ne,h as ae}from"./chunk-2S7Z6R6C.js";import{a as Ve,c as K,d as Y,e as Q,f as X,g as Z,h as $,j as Te,k as ee,l as te,m as ie,o as We,p as re}from"./chunk-ATJWKJSD.js";import{B as Oe,a as ne,b as le,c as Ie,d as Be,l as Ae,n as ke,o as De,p as se,v as Re,x as ze}from"./chunk-OXEFS4WE.js";import{$b as J,Aa as E,Bb as ye,D as _e,Db as G,Eb as q,G as Ee,H as C,Ha as V,Hb as Me,J as p,Ja as b,K as c,La as S,R as w,Rb as xe,Tb as Pe,Ub as H,Xa as _,Ya as a,Yb as Fe,Za as v,Zb as Ue,_a as y,_b as Le,aa as o,ab as Ce,bb as g,bc as oe,cb as f,cc as de,db as h,eb as we,gb as z,h as ge,hb as F,ib as be,ja as R,kb as O,lb as j,na as Se,ra as L,sa as T,ta as M,va as x,wa as P,xa as m,ya as t,za as i}from"./chunk-5G623SOG.js";import{a as he,b as ve,d as ce}from"./chunk-KAT7YFEL.js";var B=ce(Ve());var me=class{ordenCriterio;ordenTipo;parametro;valor;idEstado;idPerfil;idEmpresa;idUbigeo;pagina;registros;constructor(l,r,e,s,d,n,A,k,Xe,Ze){this.ordenCriterio=l,this.ordenTipo=r,this.parametro=e,this.valor=s,this.idEstado=d,this.idPerfil=n,this.idEmpresa=A,this.idUbigeo=k,this.pagina=Xe,this.registros=Ze}};var Ye=ce($e());var I=class{ordenCriterio;ordenTipo;parametro;valor;idEstado;pagina;registros;constructor(l,r,e,s,d,n,A){this.ordenCriterio=l,this.ordenTipo=r,this.parametro=e,this.valor=s,this.idEstado=d,this.pagina=n,this.registros=A}};var U=class u{constructor(l){this.http=l}urlEndPoint=Ue.URL_BACKEND;getPerfiles(l){return this.http.post(this.urlEndPoint+"/perfiles/listar",l)}getPerfil(l){return this.http.get(this.urlEndPoint+"/perfiles/obtenerPorId/"+l)}perfilGuardar(l){return this.http.post(this.urlEndPoint+"/perfiles/guardar",l).pipe(ge(r=>r.perfil))}perfilActualizar(l){return this.http.put(this.urlEndPoint+`/perfiles/guardar/${l.idPerfil}`,l).pipe(ge(r=>r.perfil))}static \u0275fac=function(r){return new(r||u)(Ee(Me))};static \u0275prov=_e({token:u,factory:u.\u0275fac})};var Ke=()=>["/usuarios/editar"],ot=u=>[u];function at(u,l){if(u&1&&(t(0,"option",25),a(1),i()),u&2){let r=l.$implicit;m("ngValue",r.idEstado),o(),v(r.nombre)}}function nt(u,l){if(u&1&&(t(0,"option",25),a(1),i()),u&2){let r=l.$implicit;m("ngValue",r.idPerfil),o(),v(r.nombre)}}function lt(u,l){if(u&1){let r=V();t(0,"a",46),E(1,"fa-icon",28),i(),t(2,"a",47),b("click",function(){p(r);let s=S().$implicit,d=S();return c(d.eliminar(s))}),E(3,"fa-icon",28),i()}if(u&2){let r=S().$implicit,e=S();m("routerLink",be(3,ot,"/usuarios/editar/"+r.idUsuario)),o(),m("icon",e.faPencil),o(2),m("icon",e.faTrash)}}function st(u,l){if(u&1&&(t(0,"tr")(1,"td",43),a(2),i(),t(3,"td",43),a(4),i(),t(5,"td",43),a(6),i(),t(7,"td",43),a(8),i(),t(9,"td",43),a(10),i(),t(11,"td",43),a(12),i(),t(13,"td",44),a(14),i(),t(15,"td",44),a(16),O(17,"date"),i(),t(18,"td",45),L(19,lt,4,5),i()()),u&2){let r=l.$implicit;o(2),y(" ",r.documento," "),o(2),Ce(" ",r.nombres," ",r.pApellido," ",r.sApellido," "),o(2),y(" ",r.correo," "),o(2),y(" ",r.telefono," "),o(2),y(" ",r.perfil==null?null:r.perfil.nombre," "),o(2),y("",r.login," "),o(2),v(r.estado==null?null:r.estado.nombre),o(2),v(j(17,11,r.fecha,"dd/MM/yyyy")),o(3),T(r.idUsuario!=1?19:-1)}}function dt(u,l){u&1&&(t(0,"tr")(1,"td",48)(2,"p",44),a(3,"No hay usuarios existentes."),i()()())}var pe=class u{faArrowLeft=se;faTrash=De;faPencil=Ie;faSearch=ze;faRefresh=Ae;faList=Be;faFile=Re;faNewspaper=ke;usuarioFiltro;usuarios=w(null);estados=w(null);perfiles=w(null);paginator=w(null);lusuarios=!1;lestados=!1;lperfiles=!1;usuarioService=C(W);estadoService=C(N);perfilService=C(U);loadingService=C(de);constructor(){this.usuarioFiltro=new me("","","","",0,0,0,0,0,0);let l=localStorage.getItem("PALMER.admin.filtroUsuario");l?this.usuarioFiltro=JSON.parse(l):this.filtroInicio(),this.estadoService.getEstados(new ue("","","","",300,0,0)).pipe().subscribe(r=>{this.estados.set(r.content),this.lestados=!0,this.actualizarCargador()}),this.perfilService.getPerfiles(new I("","","","",112,0,0)).pipe().subscribe(r=>{this.perfiles.set(r.content),this.lperfiles=!0,this.actualizarCargador()}),this.getUsuarios()}filtroInicio(){this.usuarioFiltro.ordenCriterio="nombres",this.usuarioFiltro.ordenTipo="asc",this.usuarioFiltro.parametro="nombres",this.usuarioFiltro.valor="",this.usuarioFiltro.idEstado=0,this.usuarioFiltro.idPerfil=0,this.usuarioFiltro.idEmpresa=0,this.usuarioFiltro.idUbigeo=0,this.usuarioFiltro.pagina=1,this.usuarioFiltro.registros=10}restablecer(){localStorage.removeItem("PALMER.admin.filtroUsuario"),this.filtroInicio(),this.getUsuarios()}actualizarPaginacion(){this.usuarioFiltro.pagina=1,this.getUsuarios()}cambiarPagina(l){this.usuarioFiltro.pagina=l,this.getUsuarios()}actualizar(){this.loadingService.show(),this.getUsuarios()}eliminar(l){B.default.fire({title:"Eliminar usuario",text:`\xBFSeguro que desea eliminar a ${l.login}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!",cancelButtonText:"No, cancelar!",reverseButtons:!0}).then(r=>{r.value&&(this.usuarioService.usuarioEliminar(l.idUsuario).subscribe(()=>{B.default.fire("Mensaje eliminado!",`El mensaje "${l.nombres}" se elimin\xF3 con \xE9xito.`,"success")}),this.loadingService.hide())})}getUsuarios(){this.loadingService.show(),localStorage.setItem("PALMER.admin.filtroUsuario",JSON.stringify(this.usuarioFiltro)),this.usuarioService.getUsuarios(this.usuarioFiltro).pipe().subscribe(l=>{this.paginator.set(l.paginator),this.usuarios.set(l.content),this.lusuarios=!0,this.actualizarCargador()})}actualizarCargador(){this.lusuarios&&this.lestados&&this.lperfiles?this.loadingService.hide():this.loadingService.show()}reporte(l){B.default.fire({title:"Reporte excel",text:"\xBFEsta seguro que desea generar reporte con los filtros actuales?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#000000",cancelButtonColor:"#4c4c4c",confirmButtonText:"Si, generar!",cancelButtonText:"No, cancelar!",customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1,reverseButtons:!0}).then(r=>{if(this.loadingService.hide(),r.value){let e=new Date,s="reporte-usuarios-"+e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+"-"+e.getHours()+"-"+e.getMinutes()+".xlsx",d=sessionStorage.getItem("usuario"),n=null;d&&(n=JSON.parse(d));let A=ve(he({},l),{usuario:n});this.usuarioService.getReporteUsuarios(A).subscribe(k=>{(0,Ye.saveAs)(k,s),B.default.fire({title:"Generar reporte",text:"El reporte se gener\xF3 con \xE9xito.",icon:"success",confirmButtonText:"Aceptar"}),this.loadingService.hide()},k=>{B.default.fire({title:"Generar reporte",text:"El reporte no se pudo generar.",icon:"warning",confirmButtonText:"Aceptar"}),this.loadingService.hide(),console.error(k)})}else this.loadingService.hide()})}static \u0275fac=function(r){return new(r||u)};static \u0275cmp=R({type:u,selectors:[["ng-component"]],features:[z([N,W,J,U])],decls:137,vars:29,consts:[["filtroForm","ngForm"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"page-title"],[1,"m-t-0","m-b-15"],[1,"pb-3"],[1,"d-flex","justify-content-start","bg-light","p-3","border","gap-3","sli"],[1,"form-group"],[1,"form-text"],["name","ordenCriterio",1,"form-select","custom-select","mr-sm-2",3,"ngModelChange","ngModel"],["value","nombres"],["value","fecha"],[1,"form-group","m-r-5"],["name","ordenTipo",1,"form-select","custom-select","mr-sm-2",3,"ngModelChange","ngModel"],["value","asc"],["value","desc"],["name","parametro",1,"form-select","custom-select","mr-sm-2",3,"ngModelChange","ngModel"],["value","login"],["value","correo"],["value","documento"],["type","search","name","valor","placeholder","",1,"form-control",3,"ngModelChange","ngModel"],["id","name",1,"form-text"],["name","idEstado",1,"form-select","custom-select","mr-sm-2",3,"ngModelChange","ngModel"],[3,"ngValue"],["name","idPerfil",1,"form-select","custom-select","mr-sm-2",3,"ngModelChange","ngModel"],["type","button",1,"form-control","btn","btn-primary",3,"click"],[3,"icon"],["type","button",1,"form-control","btn","btn-secondary",3,"click"],[1,"d-flex","justify-content-between","gap-3"],[1,"d-flex","gap-3"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"btn","btn-secondary"],["name","registros",1,"form-select","custom-select","float-right",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end",3,"childEvent","paginator"],[1,"table-responsive"],[1,"table","table-hover"],[1,"thead-light"],["scope","col",1,"text-left"],[1,"ng2-smart-sort-link","sort"],["scope","col",1,"text-center",2,"width","120px"],["scope","col",1,"text-right",2,"width","120px"],[1,"text-left"],[1,"text-center"],[1,"text-end"],["placement","left","ngbTooltip","Editar usuario",1,"px-2",3,"routerLink"],["href","javascript:void(0);","placement","left","ngbTooltip","Eliminar usuario",1,"px-2",3,"click"],["colspan","9"]],template:function(r,e){if(r&1){let s=V();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",5),a(5,"Gesti\xF3n de usuarios"),i(),E(6,"hr",6),t(7,"form",7,0)(9,"div",8)(10,"div",9)(11,"small",10),a(12,"Ordenar por"),i(),t(13,"select",11),h("ngModelChange",function(n){return p(s),f(e.usuarioFiltro.ordenCriterio,n)||(e.usuarioFiltro.ordenCriterio=n),c(n)}),t(14,"option",12),a(15,"Nombres y apellidos"),i(),t(16,"option",13),a(17,"Fecha de registro"),i()()(),t(18,"div",14)(19,"small",10),a(20,"\xA0"),i(),t(21,"select",15),h("ngModelChange",function(n){return p(s),f(e.usuarioFiltro.ordenTipo,n)||(e.usuarioFiltro.ordenTipo=n),c(n)}),t(22,"option",16),a(23,"Asc"),i(),t(24,"option",17),a(25,"Desc"),i()()(),t(26,"div",9)(27,"small",10),a(28,"Buscar por"),i(),t(29,"select",18),h("ngModelChange",function(n){return p(s),f(e.usuarioFiltro.parametro,n)||(e.usuarioFiltro.parametro=n),c(n)}),t(30,"option",12),a(31,"Nombres"),i(),t(32,"option",19),a(33,"Login"),i(),t(34,"option",20),a(35,"Correo"),i(),t(36,"option",21),a(37,"Dni"),i()()(),t(38,"div",14)(39,"small",10),a(40,"\xA0"),i(),t(41,"input",22),h("ngModelChange",function(n){return p(s),f(e.usuarioFiltro.valor,n)||(e.usuarioFiltro.valor=n),c(n)}),i()(),t(42,"div",14)(43,"small",23),a(44,"Estados"),i(),t(45,"select",24),h("ngModelChange",function(n){return p(s),f(e.usuarioFiltro.idEstado,n)||(e.usuarioFiltro.idEstado=n),c(n)}),t(46,"option",25),a(47,"Todos"),i(),x(48,at,2,2,"option",25,M),i()(),t(50,"div",14)(51,"small",23),a(52,"Perfiles"),i(),t(53,"select",26),h("ngModelChange",function(n){return p(s),f(e.usuarioFiltro.idPerfil,n)||(e.usuarioFiltro.idPerfil=n),c(n)}),t(54,"option",25),a(55,"Todos"),i(),x(56,nt,2,2,"option",25,M),i()(),t(58,"div",9)(59,"small",23),a(60,"\xA0"),i(),t(61,"button",27),b("click",function(){return p(s),c(e.actualizar())}),E(62,"fa-icon",28),a(63," Buscar "),i()(),t(64,"div",9)(65,"small",23),a(66,"\xA0"),i(),t(67,"button",29),b("click",function(){return p(s),c(e.restablecer())}),E(68,"fa-icon",28),i()()()(),t(69,"div",30)(70,"div",31)(71,"button",32),E(72,"fa-icon",28),a(73," Nuevo"),i(),t(74,"button",33),E(75,"fa-icon",28),a(76," Regresar"),i(),t(77,"div",9)(78,"select",34),h("ngModelChange",function(n){return p(s),f(e.usuarioFiltro.registros,n)||(e.usuarioFiltro.registros=n),c(n)}),b("ngModelChange",function(){return p(s),c(e.actualizarPaginacion())}),t(79,"option",25),a(80,"10"),i(),t(81,"option",25),a(82,"30"),i(),t(83,"option",25),a(84,"50"),i()()()(),t(85,"paginator",35),b("childEvent",function(n){return p(s),c(e.cambiarPagina(n))}),i()(),t(86,"div",36)(87,"table",37)(88,"thead")(89,"tr",38)(90,"th",39)(91,"a",40),a(92,"DNI"),i()(),t(93,"th",39)(94,"a",40),a(95,"Nombres"),i()(),t(96,"th",39)(97,"a",40),a(98,"Correo"),i()(),t(99,"th",39)(100,"a",40),a(101,"Telefono"),i()(),t(102,"th",39)(103,"a",40),a(104,"Perfil"),i()(),t(105,"th",39)(106,"a",40),a(107,"Login"),i()(),t(108,"th",41)(109,"a",40),a(110,"Estado"),i()(),t(111,"th",41)(112,"a",40),a(113,"Fecha"),i()(),t(114,"th",42),E(115,"a",40),i()()(),t(116,"tbody"),x(117,st,20,14,"tr",null,M),L(119,dt,4,0,"tr"),i()()(),t(120,"div",30)(121,"div",31)(122,"button",32),E(123,"fa-icon",28),a(124," Nuevo"),i(),t(125,"button",33),E(126,"fa-icon",28),a(127," Regresar"),i(),t(128,"div",9)(129,"select",34),h("ngModelChange",function(n){return p(s),f(e.usuarioFiltro.registros,n)||(e.usuarioFiltro.registros=n),c(n)}),b("ngModelChange",function(){return p(s),c(e.actualizarPaginacion())}),t(130,"option",25),a(131,"10"),i(),t(132,"option",25),a(133,"30"),i(),t(134,"option",25),a(135,"50"),i()()()(),t(136,"paginator",35),b("childEvent",function(n){return p(s),c(e.cambiarPagina(n))}),i()()()()()()}if(r&2){let s;o(13),g("ngModel",e.usuarioFiltro.ordenCriterio),o(8),g("ngModel",e.usuarioFiltro.ordenTipo),o(8),g("ngModel",e.usuarioFiltro.parametro),o(12),g("ngModel",e.usuarioFiltro.valor),o(4),g("ngModel",e.usuarioFiltro.idEstado),o(),m("ngValue",0),o(2),P(e.estados()),o(5),g("ngModel",e.usuarioFiltro.idPerfil),o(),m("ngValue",0),o(2),P(e.perfiles()),o(6),m("icon",e.faSearch),o(6),m("icon",e.faRefresh),o(3),m("routerLink",F(27,Ke)),o(),m("icon",e.faList),o(3),m("icon",e.faArrowLeft),o(3),g("ngModel",e.usuarioFiltro.registros),o(),m("ngValue",10),o(2),m("ngValue",30),o(2),m("ngValue",50),o(2),m("paginator",e.paginator()),o(32),P(e.usuarios()),o(2),T(((s=e.usuarios())==null?null:s.length)==0?119:-1),o(3),m("routerLink",F(28,Ke)),o(),m("icon",e.faList),o(3),m("icon",e.faArrowLeft),o(3),g("ngModel",e.usuarioFiltro.registros),o(),m("ngValue",10),o(2),m("ngValue",30),o(2),m("ngValue",50),o(2),m("paginator",e.paginator())}},dependencies:[ae,Ne,le,ne,H,q,re,$,te,ie,K,ee,Y,Q,Z,X,oe,je,G],styles:[".ventanaResultadoCargaMasiva .modal-dialog{max-width:50%;width:50%}  .swal2-cancel{margin-right:10px!important;background-color:#39a3ee!important;border-color:#39a3ee!important}  .swal2-cancel:hover{margin-right:10px!important;background-color:#31a3f5!important;border-color:#31a3f5!important}  .swal2-confirm{margin-right:10px!important;background-color:#e51c1b!important;border-color:#e51c1b!important}"]})};var Qe=ce(Ve());var ut=()=>({idParametro:0}),mt=()=>({idPerfil:0}),pt=()=>({idEstado:0}),ct=()=>["/usuarios/lista"];function gt(u,l){if(u&1&&(t(0,"option",22),a(1),i()),u&2){let r=l.$implicit;m("ngValue",r),o(),y(" ",r.nombre," ")}}function ft(u,l){if(u&1){let r=V();t(0,"div",8)(1,"div",9)(2,"label",10),a(3,"Contrase\xF1a * "),t(4,"small"),a(5),i()(),t(6,"input",37),h("ngModelChange",function(s){p(r);let d=S(2);return f(d.usuario().password,s)||(d.usuario().password=s),c(s)}),i()()()}if(u&2){let r=S(2);o(),_(r.validarError("password1",1)),o(4),v(r.validarError("password1",2)),o(),g("ngModel",r.usuario().password)}}function ht(u,l){if(u&1){let r=V();t(0,"div")(1,"button",34),b("click",function(){p(r);let s=S();return c(s.editarPassword=!s.editarPassword)}),a(2),i()(),t(3,"div",1)(4,"div",8)(5,"div",9)(6,"label",10),a(7,"Login * "),t(8,"small"),a(9),i()(),t(10,"input",35),h("ngModelChange",function(s){p(r);let d=S();return f(d.usuario().login,s)||(d.usuario().login=s),c(s)}),i()()(),Se(11,ft,7,4,"div",36),i()}if(u&2){let r=S();o(2),y(" ",r.editarPassword?"Cancelar edici\xF3n":"Editar contrase\xF1a"," "),o(3),_(r.validarError("login1",1)),o(4),v(r.validarError("login1",2)),o(),g("ngModel",r.usuario().login),o(),m("ngIf",r.editarPassword)}}function vt(u,l){if(u&1){let r=V();t(0,"div",1)(1,"div",8)(2,"div",9)(3,"label",10),a(4,"Login * "),t(5,"small"),a(6),i()(),t(7,"input",35),h("ngModelChange",function(s){p(r);let d=S();return f(d.usuario().login,s)||(d.usuario().login=s),c(s)}),i()()(),t(8,"div",8)(9,"div",9)(10,"label",10),a(11,"Contrase\xF1a * "),t(12,"small"),a(13),i()(),t(14,"input",37),h("ngModelChange",function(s){p(r);let d=S();return f(d.usuario().password,s)||(d.usuario().password=s),c(s)}),i()()()()}if(u&2){let r=S();o(2),_(r.validarError("login1",1)),o(4),v(r.validarError("login1",2)),o(),g("ngModel",r.usuario().login),o(2),_(r.validarError("password1",1)),o(4),v(r.validarError("password1",2)),o(),g("ngModel",r.usuario().password)}}function _t(u,l){if(u&1&&(t(0,"option",22),a(1),i()),u&2){let r=l.$implicit;m("ngValue",r),o(),y(" ",r.nombre," ")}}function Et(u,l){if(u&1&&(t(0,"option",22),a(1),i()),u&2){let r=l.$implicit;m("ngValue",r),o(),y(" ",r.nombre," ")}}function St(u,l){if(u&1&&(t(0,"div",8)(1,"div",38)(2,"label",10),a(3,"Fecha de registro"),i(),E(4,"input",39),O(5,"date"),i()()),u&2){let r=S();o(4),m("value",we(j(5,2,r.usuario().fecha,"dd/MM/yyyy")))}}var D=class u{faCheck=Oe;faArrowLeft=se;titulo="Nuevo usuario";editarPassword=!1;usuario=w(new Fe);perfiles=w(null);proles=w(null);pdocumentos=w(null);estados=w(null);errores=w(null);lestados=!1;lpdocumentos=!1;lperfiles=!1;lusuarios=!1;router=C(Pe);parametroService=C(fe);estadoService=C(N);perfilService=C(U);usuarioService=C(W);activatedRoute=C(xe);loadingService=C(de);constructor(){this.activatedRoute.paramMap.subscribe(l=>{let r=+l.get("id");r?this.usuarioService.getUsuario(r).subscribe(e=>{this.titulo="Edici\xF3n de usuario",this.usuario.set(e),e.password&&(this.usuario().password=""),this.lusuarios=!0}):(this.usuario().estado=new Ge,this.usuario().pDocumento=new qe,this.usuario().perfil=new Le,this.usuario().documento="",this.usuario().nombres="",this.usuario().pApellido="",this.usuario().sApellido="",this.usuario().sexo="",this.usuario().fechaNacimiento=null,this.usuario().login="",this.usuario().password="",this.usuario().estado.idEstado=0,this.usuario().pDocumento.idParametro=0,this.usuario().perfil.idPerfil=0,this.lusuarios=!0)}),this.estadoService.getEstados(new ue("","","","",300,0,0)).pipe().subscribe(l=>{this.estados.set(l.content),this.lestados=!0,this.actualizarCargador()}),this.parametroService.getParametros(new He("","","","",104,293,0,0)).pipe().subscribe(l=>{this.pdocumentos.set(l.content),this.lpdocumentos=!0,this.actualizarCargador()}),this.perfilService.getPerfiles(new I("","","","",112,0,0)).pipe().subscribe(l=>{this.perfiles.set(l.content),this.lperfiles=!0,this.actualizarCargador()})}guardar(){this.loadingService.show(),(this.usuario().idUsuario?this.usuarioService.usuarioActualizar(this.usuario()):this.usuarioService.usuarioGuardar(this.usuario())).subscribe(r=>{this.router.navigate(["/usuarios/lista"]),Qe.default.fire({title:`${this.usuario()?.idUsuario?"Actualizar":"Nuevo"} usuario`,text:`El usuario ${this.usuario()?.nombres} ${this.usuario().pApellido} ha sido ${this.usuario().idUsuario?"actualizado":"creado"} con \xE9xito`,icon:"success",confirmButtonText:"Aceptar"}),this.loadingService.hide()},r=>{this.errores.set(r.error.errors),this.loadingService.hide()})}compararParametro(l,r){return l===void 0&&r===void 0?!0:l===null||r===null||l===void 0||r===void 0?!1:l.idParametro===r.idParametro}compararEstado(l,r){return l===void 0&&r===void 0?!0:l===null||r===null||l===void 0||r===void 0?!1:l.idEstado===r.idEstado}compararPerfil(l,r){return l===void 0&&r===void 0?!0:l===null||r===null||l===void 0||r===void 0?!1:l.idPerfil===r.idPerfil}validarError(l,r){let e="",s=this.errores();return s&&s.forEach(d=>{d.campo===l&&(e=r===1?"errors":`(${d.valor})`)}),e}keyup(l){this.usuario().login=this.usuario().documento,this.usuario().password=this.usuario().documento}actualizarCargador(){this.lusuarios&&this.lestados&&this.lperfiles?this.loadingService.hide():this.loadingService.show()}static \u0275fac=function(r){return new(r||u)};static \u0275cmp=R({type:u,selectors:[["app-usuarioEditar"]],features:[z([fe,N,U,W,J])],decls:126,vars:61,consts:[["usuarioForm","ngForm"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-title"],[1,"card-body"],["autocomplete","off",1,"m-t-0"],[1,"card-title","m-t-15"],[1,"col-md-6","pt-3"],[1,"form-group","has-danger"],[1,"control-label"],[1,"help-block"],["type","text","name","nombres",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","papellido",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","sapellido",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","gap-3"],["type","radio","value","M","name","sexo","id","sexo1","required","",1,"custom-control-input","mx-2",2,"height","auto",3,"ngModelChange","ngModel"],["for","sexo1",1,"custom-control-label"],[1,"custom-control","custom-radio","custom-control-inline"],["type","radio","value","F","name","sexo","id","sexo2","required","",1,"custom-control-input","mx-2",2,"height","auto",3,"ngModelChange","ngModel"],["for","sexo2",1,"custom-control-label"],["name","pDocumento","id","pDocumento","tabindex","1",1,"form-select","mr-sm-2",3,"ngModelChange","compareWith","ngModel"],[3,"ngValue"],["type","text","name","documento","id","documento",1,"form-control","form-control-danger",3,"keyup","ngModelChange","ngModel"],["type","text","name","correo",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","telefono",1,"form-control",3,"ngModelChange","ngModel"],["id","fechanacimiento","type","date","name","fechanacimiento",1,"form-control",3,"ngModelChange","ngModel"],[1,"card-title","pt-4"],["name","perfil","id","perfil","tabindex","1",1,"form-select","mr-sm-2",3,"ngModelChange","compareWith","ngModel"],["name","estado","id","estado","tabindex","1",1,"form-select","mr-sm-2",3,"ngModelChange","compareWith","ngModel"],[1,"form-actions","py-3","d-flex","gap-3"],["type","submit","role","button",1,"btn","btn-primary",3,"click"],[3,"icon"],[1,"btn","btn-secondary",3,"routerLink"],["type","button",1,"btn","btn-outline-secondary","btn-sm","mt-2","d-block",3,"click"],["type","text","name","login1","autocomplete","nope",1,"form-control",3,"ngModelChange","ngModel"],["class","col-md-6 pt-3",4,"ngIf"],["type","text","name","password1","autocomplete","nope",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group"],["type","text","name","fecha","disabled","",1,"form-control",3,"value"]],template:function(r,e){if(r&1){let s=V();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),a(4),i(),t(5,"div",5)(6,"form",6,0)(8,"h5",7),a(9,"Datos personales:"),i(),t(10,"div",1)(11,"div",8)(12,"div",9)(13,"label",10),a(14,"Nombres * "),t(15,"small",11),a(16),i()(),t(17,"input",12),h("ngModelChange",function(n){return p(s),f(e.usuario().nombres,n)||(e.usuario().nombres=n),c(n)}),i()()(),t(18,"div",8)(19,"div",9)(20,"label",10),a(21,"Primer apellido * "),t(22,"small",11),a(23),i()(),t(24,"input",13),h("ngModelChange",function(n){return p(s),f(e.usuario().pApellido,n)||(e.usuario().pApellido=n),c(n)}),i()()()(),t(25,"div",1)(26,"div",8)(27,"div",9)(28,"label",10),a(29,"Segundo apellido * "),t(30,"small",11),a(31),i()(),t(32,"input",14),h("ngModelChange",function(n){return p(s),f(e.usuario().sApellido,n)||(e.usuario().sApellido=n),c(n)}),i()()(),t(33,"div",8)(34,"div",9)(35,"label",10),a(36,"Sexo * "),t(37,"small",11),a(38),i()(),t(39,"div",15)(40,"div")(41,"input",16),h("ngModelChange",function(n){return p(s),f(e.usuario().sexo,n)||(e.usuario().sexo=n),c(n)}),i(),t(42,"label",17),a(43," Masculino"),i()(),t(44,"div",18)(45,"input",19),h("ngModelChange",function(n){return p(s),f(e.usuario().sexo,n)||(e.usuario().sexo=n),c(n)}),i(),t(46,"label",20),a(47," Femenino"),i()()()()()(),t(48,"div",1)(49,"div",8)(50,"div",9)(51,"label",10),a(52,"Tipo documento* "),t(53,"small"),a(54),i()(),t(55,"select",21),h("ngModelChange",function(n){return p(s),f(e.usuario().pDocumento,n)||(e.usuario().pDocumento=n),c(n)}),t(56,"option",22),a(57,"Seleccione"),i(),x(58,gt,2,2,"option",22,M),i()()(),t(60,"div",8)(61,"div",9)(62,"label",10),a(63,"Documento * "),t(64,"small"),a(65),i()(),t(66,"input",23),b("keyup",function(n){return p(s),c(e.keyup(n.target))}),h("ngModelChange",function(n){return p(s),f(e.usuario().documento,n)||(e.usuario().documento=n),c(n)}),i()()()(),t(67,"div",1)(68,"div",8)(69,"div",9)(70,"label",10),a(71,"Correo electr\xF3nico * "),t(72,"small"),a(73),i()(),t(74,"input",24),h("ngModelChange",function(n){return p(s),f(e.usuario().correo,n)||(e.usuario().correo=n),c(n)}),i()()(),t(75,"div",8)(76,"div",9)(77,"label",10),a(78,"Celular (ingresar s\xF3lo n\xFAmeros) "),t(79,"small"),a(80),i()(),t(81,"input",25),h("ngModelChange",function(n){return p(s),f(e.usuario().telefono,n)||(e.usuario().telefono=n),c(n)}),i()()()(),t(82,"div",1)(83,"div",8)(84,"div",9)(85,"label",10),a(86,"Fecha de nacimiento* "),t(87,"small"),a(88),i()(),t(89,"input",26),h("ngModelChange",function(n){return p(s),f(e.usuario().fechaNacimiento,n)||(e.usuario().fechaNacimiento=n),c(n)}),i()()()(),t(90,"h5",27),a(91,"Informaci\xF3n de acceso y perfil:"),i(),L(92,ht,12,6)(93,vt,15,8,"div",1),t(94,"div",1)(95,"div",8)(96,"div",9)(97,"label",10),a(98,"Rol * "),t(99,"small"),a(100),i()(),t(101,"select",28),h("ngModelChange",function(n){return p(s),f(e.usuario().perfil,n)||(e.usuario().perfil=n),c(n)}),t(102,"option",22),a(103,"Seleccione"),i(),x(104,_t,2,2,"option",22,M),i()()()(),t(106,"div",1)(107,"div",8)(108,"div",9)(109,"label",10),a(110,"Estado *"),t(111,"small"),a(112),i()(),t(113,"select",29),h("ngModelChange",function(n){return p(s),f(e.usuario().estado,n)||(e.usuario().estado=n),c(n)}),t(114,"option",22),a(115,"Seleccione"),i(),x(116,Et,2,2,"option",22,M),i()()(),L(118,St,6,5,"div",8),i(),t(119,"div",30)(120,"button",31),b("click",function(){return p(s),c(e.guardar())}),E(121,"fa-icon",32),a(122," Guardar"),i(),t(123,"a",33),E(124,"fa-icon",32),a(125," Regresar"),i()()()()()()()}r&2&&(o(4),v(e.titulo),o(8),_(e.validarError("nombres",1)),o(4),v(e.validarError("nombres",2)),o(),g("ngModel",e.usuario().nombres),o(2),_(e.validarError("papellido",1)),o(4),v(e.validarError("papellido",2)),o(),g("ngModel",e.usuario().pApellido),o(3),_(e.validarError("sapellido",1)),o(4),v(e.validarError("sapellido",2)),o(),g("ngModel",e.usuario().sApellido),o(2),_(e.validarError("sexo",1)),o(4),v(e.validarError("sexo",2)),o(3),g("ngModel",e.usuario().sexo),o(4),g("ngModel",e.usuario().sexo),o(5),_(e.validarError("pDocumento",1)),o(4),v(e.validarError("pDocumento",2)),o(),m("compareWith",e.compararParametro),g("ngModel",e.usuario().pDocumento),o(),m("ngValue",F(57,ut)),o(2),P(e.pdocumentos()),o(3),_(e.validarError("documento",1)),o(4),v(e.validarError("documento",2)),o(),g("ngModel",e.usuario().documento),o(3),_(e.validarError("correo",1)),o(4),v(e.validarError("correo",2)),o(),g("ngModel",e.usuario().correo),o(2),_(e.validarError("telefono",1)),o(4),v(e.validarError("telefono",2)),o(),g("ngModel",e.usuario().telefono),o(3),_(e.validarError("fechanacimiento",1)),o(4),v(e.validarError("fechanacimiento",2)),o(),g("ngModel",e.usuario().fechaNacimiento),o(3),T(e.usuario().idUsuario>0?92:93),o(4),_(e.validarError("perfil",1)),o(4),v(e.validarError("perfil",2)),o(),m("compareWith",e.compararPerfil),g("ngModel",e.usuario().perfil),o(),m("ngValue",F(58,mt)),o(2),P(e.perfiles()),o(4),_(e.validarError("estado",1)),o(4),v(e.validarError("estado",2)),o(),m("compareWith",e.compararEstado),g("ngModel",e.usuario().estado),o(),m("ngValue",F(59,pt)),o(2),P(e.estados()),o(2),T(e.usuario().idUsuario>0?118:-1),o(3),m("icon",e.faCheck),o(2),m("routerLink",F(60,ct)),o(),m("icon",e.faArrowLeft))},dependencies:[le,ne,H,q,ye,re,$,te,ie,K,ee,Te,Y,Q,We,Z,X,oe,ae,G],styles:["#main-wrapper[_ngcontent-%COMP%]{width:100%!important;overflow:initial!important}"]})};var Ci=[{path:"",children:[{path:"lista",component:pe,data:{title:"Gesti\xF3n de usuarios",urls:[{title:"Dashboard",url:"/dashboard/inicio"},{title:"Gesti\xF3n de usuarios"}]}},{path:"editar",component:D,data:{title:"Nuevo usuario",urls:[{title:"Dashboard",url:"/dashboard/inicio"},{title:"Gesti\xF3n de usuarios",url:"/usuarios/lista/"},{title:"Nuevo usuario"}]}},{path:"editar/:id",component:D,data:{title:"Edici\xF3n de usuario",urls:[{title:"Dashboard",url:"/dashboard/inicio"},{title:"Gesti\xF3n de usuarios",url:"/usuarios/lista"},{title:"Edici\xF3n de usuario"}]}}]}];export{Ci as default};
